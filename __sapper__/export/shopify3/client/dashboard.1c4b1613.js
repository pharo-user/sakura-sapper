import{S as s,i as a,s as t,e as o,t as e,b as c,f as r,g as l,d as n,h,j as i,k as u,l as f,n as d,p as m,r as v,u as p,v as g,w as b,x as k,y as E,a as y,q as w,c as I,z as $,A,B as T,m as R,C as B,o as j}from"./client.243ba1ad.js";var x=async(s,a)=>{a(!0);try{await s}catch(s){}a(!1)};function D(s){let a,t;return{c(){a=o("div"),t=e(s[0]),this.h()},l(o){a=c(o,"DIV",{class:!0});var e=r(a);t=l(e,s[0]),e.forEach(n),this.h()},h(){h(a,"class","LoadingIndicator svelte-hef77f")},m(s,o){i(s,a,o),u(a,t)},p(s,[a]){1&a&&f(t,s[0])},i:d,o:d,d(s){s&&n(a)}}}function K(s,a,t){let o="";async function e(){3===o.length&&t(0,o=""),t(0,o+="."),await new Promise((s=>setTimeout(s,300))),e()}return m((()=>{e()})),[o]}class N extends s{constructor(s){super(),a(this,s,K,D,t,{})}}function O(s){let a,t;return a=new N({}),{c(){v(a.$$.fragment)},l(s){p(a.$$.fragment,s)},m(s,o){g(a,s,o),t=!0},i(s){t||(b(a.$$.fragment,s),t=!0)},o(s){k(a.$$.fragment,s),t=!1},d(s){E(a,s)}}}function P(s){let a,t,f,d,m,v,p,g,E,R,j,x,D,K,N,P,U,W,S,V,q,z,C,H,L,F,G,J,M=s[0]&&O();return{c(){a=y(),t=o("br"),f=y(),d=o("br"),m=y(),v=o("div"),p=o("h1"),g=e("SAKURA NETWORK"),E=y(),R=o("button"),j=e("Install Widget"),x=y(),D=o("button"),K=e("Import Product"),N=y(),P=o("div"),M&&M.c(),U=y(),W=o("p"),S=e("click "),V=o("a"),q=e("here"),z=e(" to go back to the shop, \n\n\tor click "),C=o("a"),H=e("here"),L=e(" to access sakura.eco"),this.h()},l(s){w('[data-svelte="svelte-mc1kyo"]',document.head).forEach(n),a=I(s),t=c(s,"BR",{}),f=I(s),d=c(s,"BR",{}),m=I(s),v=c(s,"DIV",{class:!0});var o=r(v);p=c(o,"H1",{class:!0});var e=r(p);g=l(e,"SAKURA NETWORK"),e.forEach(n),E=I(o),R=c(o,"BUTTON",{class:!0});var h=r(R);j=l(h,"Install Widget"),h.forEach(n),x=I(o),D=c(o,"BUTTON",{class:!0});var i=r(D);K=l(i,"Import Product"),i.forEach(n),N=I(o),P=c(o,"DIV",{class:!0});var u=r(P);M&&M.l(u),u.forEach(n),U=I(o),W=c(o,"P",{});var b=r(W);S=l(b,"click "),V=c(b,"A",{href:!0,class:!0});var k=r(V);q=l(k,"here"),k.forEach(n),z=l(b," to go back to the shop, \n\n\tor click "),C=c(b,"A",{href:!0,class:!0});var y=r(C);H=l(y,"here"),y.forEach(n),L=l(b," to access sakura.eco"),b.forEach(n),o.forEach(n),this.h()},h(){document.title="Dashboard",h(p,"class","svelte-1mbsohh"),h(R,"class","svelte-1mbsohh"),h(D,"class","svelte-1mbsohh"),h(P,"class","svelte-1mbsohh"),h(V,"href",s[1]),h(V,"class","svelte-1mbsohh"),h(C,"href","https://sakura.eco"),h(C,"class","svelte-1mbsohh"),h(v,"class","svelte-1mbsohh")},m(o,e){i(o,a,e),i(o,t,e),i(o,f,e),i(o,d,e),i(o,m,e),i(o,v,e),u(v,p),u(p,g),u(v,E),u(v,R),u(R,j),u(v,x),u(v,D),u(D,K),u(v,N),u(v,P),M&&M.m(P,null),u(v,U),u(v,W),u(W,S),u(W,V),u(V,q),u(W,z),u(W,C),u(C,H),u(W,L),F=!0,G||(J=[$(R,"click",s[4]),$(D,"click",s[5])],G=!0)},p(s,[a]){s[0]?M?1&a&&b(M,1):(M=O(),M.c(),b(M,1),M.m(P,null)):M&&(B(),k(M,1,1,(()=>{M=null})),A())},i(s){F||(b(M),F=!0)},o(s){k(M),F=!1},d(s){s&&n(a),s&&n(t),s&&n(f),s&&n(d),s&&n(m),s&&n(v),M&&M.d(),G=!1,T(J)}}}function U(s,a,t){let o;R(s,j,(s=>t(6,o=s)));let e=!1;async function c(){console.log("import");let s=await async function(s){let a="https://sakura.eco/api/shopify/import/"+s;return await fetch(a,{mode:"cors"}).then((s=>s.json())).then((s=>s))}(j);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}async function r(){console.log("install");let s=await async function(s){let a="https://sakura.eco/api/shopify/widget/"+s;return await fetch(a,{mode:"cors"}).then((s=>s.json())).then((s=>s))}(j);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}return[e,"https://"+o,c,r,()=>x(r(),(s=>t(0,e=s))),()=>x(c(),(s=>t(0,e=s)))]}export default class extends s{constructor(s){super(),a(this,s,U,P,t,{})}}
