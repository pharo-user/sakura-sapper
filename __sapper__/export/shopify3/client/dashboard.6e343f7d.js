import{S as s,i as a,s as t,e as o,t as e,b as c,f as r,g as n,d as h,h as l,j as i,k as u,l as f,n as m,o as d,m as p,p as v,r as g,u as b,v as k,w as y,a as E,q as w,c as $,x as A,y as I,z as R,A as T,B as j}from"./client.286fe83a.js";var x=async(s,a)=>{a(!0);try{await s}catch(s){}a(!1)};function B(s){let a,t;return{c(){a=o("div"),t=e(s[0]),this.h()},l(o){a=c(o,"DIV",{class:!0});var e=r(a);t=n(e,s[0]),e.forEach(h),this.h()},h(){l(a,"class","LoadingIndicator svelte-hef77f")},m(s,o){i(s,a,o),u(a,t)},p(s,[a]){1&a&&f(t,s[0])},i:m,o:m,d(s){s&&h(a)}}}function D(s,a,t){let o="";async function e(){3===o.length&&t(0,o=""),t(0,o+="."),await new Promise((s=>setTimeout(s,300))),e()}return d((()=>{e()})),[o]}class K extends s{constructor(s){super(),a(this,s,D,B,t,{})}}function P(s){let a,t;return a=new K({}),{c(){p(a.$$.fragment)},l(s){v(a.$$.fragment,s)},m(s,o){g(a,s,o),t=!0},i(s){t||(b(a.$$.fragment,s),t=!0)},o(s){k(a.$$.fragment,s),t=!1},d(s){y(a,s)}}}function N(s){let a,t,f,m,d,p,v,g,y,R,j,x,B,D,K,N,O,S,U,V,W,q,z,H,L,C,F=s[0]&&P();return{c(){a=E(),t=o("br"),f=E(),m=o("br"),d=E(),p=o("div"),v=o("h1"),g=e("SAKURA NETWORK"),y=E(),R=E(),j=o("button"),x=e("Import Product"),B=E(),D=o("div"),F&&F.c(),K=E(),N=o("p"),O=e("click "),S=o("a"),U=e("here"),V=e(" to go back to the shop, \n\n\tor click "),W=o("a"),q=e("here"),z=e(" to access sakura.eco"),this.h()},l(s){w('[data-svelte="svelte-mc1kyo"]',document.head).forEach(h),a=$(s),t=c(s,"BR",{}),f=$(s),m=c(s,"BR",{}),d=$(s),p=c(s,"DIV",{class:!0});var o=r(p);v=c(o,"H1",{class:!0});var e=r(v);g=n(e,"SAKURA NETWORK"),e.forEach(h),y=$(o),R=$(o),j=c(o,"BUTTON",{class:!0});var l=r(j);x=n(l,"Import Product"),l.forEach(h),B=$(o),D=c(o,"DIV",{class:!0});var i=r(D);F&&F.l(i),i.forEach(h),K=$(o),N=c(o,"P",{});var u=r(N);O=n(u,"click "),S=c(u,"A",{href:!0,class:!0});var b=r(S);U=n(b,"here"),b.forEach(h),V=n(u," to go back to the shop, \n\n\tor click "),W=c(u,"A",{href:!0,class:!0});var k=r(W);q=n(k,"here"),k.forEach(h),z=n(u," to access sakura.eco"),u.forEach(h),o.forEach(h),this.h()},h(){document.title="Dashboard",l(v,"class","svelte-1mbsohh"),l(j,"class","svelte-1mbsohh"),l(D,"class","svelte-1mbsohh"),l(S,"href",s[1]),l(S,"class","svelte-1mbsohh"),l(W,"href","https://sakura.eco"),l(W,"class","svelte-1mbsohh"),l(p,"class","svelte-1mbsohh")},m(o,e){i(o,a,e),i(o,t,e),i(o,f,e),i(o,m,e),i(o,d,e),i(o,p,e),u(p,v),u(v,g),u(p,y),u(p,R),u(p,j),u(j,x),u(p,B),u(p,D),F&&F.m(D,null),u(p,K),u(p,N),u(N,O),u(N,S),u(S,U),u(N,V),u(N,W),u(W,q),u(N,z),H=!0,L||(C=A(j,"click",s[5]),L=!0)},p(s,[a]){s[0]?F?1&a&&b(F,1):(F=P(),F.c(),b(F,1),F.m(D,null)):F&&(T(),k(F,1,1,(()=>{F=null})),I())},i(s){H||(b(F),H=!0)},o(s){k(F),H=!1},d(s){s&&h(a),s&&h(t),s&&h(f),s&&h(m),s&&h(d),s&&h(p),F&&F.d(),L=!1,C()}}}function O(s,a,t){let o;R(s,j,(s=>t(6,o=s)));let e=!1;async function c(){console.log("import");let s=await async function(s){let a="https://sakura.eco/api/shopify/import/"+s;return await fetch(a,{mode:"cors"}).then((s=>s.json())).then((s=>s))}(j);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}async function r(){console.log("install");let s=await async function(s){let a="https://sakura.eco/api/shopify/widget/"+s;return await fetch(a,{mode:"cors"}).then((s=>s.json())).then((s=>s))}(j);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}return[e,"https://"+o,c,r,()=>x(r(),(s=>t(0,e=s))),()=>x(c(),(s=>t(0,e=s)))]}export default class extends s{constructor(s){super(),a(this,s,O,N,t,{})}}
