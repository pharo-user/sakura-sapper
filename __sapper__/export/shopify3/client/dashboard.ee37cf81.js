import{S as s,i as t,s as a,e as o,t as e,b as c,f as l,g as r,d as n,h,j as i,k as u,l as d,n as f,p as m,r as v,u as g,v as b,w as p,x as E,y as w,a as k,q as I,c as y,z as $,A as T,B as A,m as R,C as B,o as P}from"./client.178b412b.js";var x=async(s,t)=>{t(!0);try{await s}catch(s){}t(!1)};function D(s){let t,a;return{c(){t=o("div"),a=e(s[0]),this.h()},l(o){t=c(o,"DIV",{class:!0});var e=l(t);a=r(e,s[0]),e.forEach(n),this.h()},h(){h(t,"class","LoadingIndicator svelte-hef77f")},m(s,o){i(s,t,o),u(t,a)},p(s,[t]){1&t&&d(a,s[0])},i:f,o:f,d(s){s&&n(t)}}}function K(s,t,a){let o="";async function e(){3===o.length&&a(0,o=""),a(0,o+="."),await new Promise((s=>setTimeout(s,300))),e()}return m((()=>{e()})),[o]}class N extends s{constructor(s){super(),t(this,s,K,D,a,{})}}function O(s){let t,a;return t=new N({}),{c(){v(t.$$.fragment)},l(s){g(t.$$.fragment,s)},m(s,o){b(t,s,o),a=!0},i(s){a||(p(t.$$.fragment,s),a=!0)},o(s){E(t.$$.fragment,s),a=!1},d(s){w(t,s)}}}function U(s){let t,a,d,f,m,v,g,b,w,R,P,x,D,K,N,U,W,j,S,V,q,z,C,H,L,_=s[0]&&O();return{c(){t=k(),a=o("br"),d=k(),f=o("br"),m=k(),v=o("div"),g=o("h1"),b=e("SAKURA NETWORK"),w=k(),R=o("button"),P=e("Install Widget"),x=k(),D=o("button"),K=e("Import Product"),N=k(),U=o("div"),_&&_.c(),W=k(),j=o("p"),S=e("click "),V=o("a"),q=e("here"),z=e(" to go back to the shop"),this.h()},l(s){I('[data-svelte="svelte-mc1kyo"]',document.head).forEach(n),t=y(s),a=c(s,"BR",{}),d=y(s),f=c(s,"BR",{}),m=y(s),v=c(s,"DIV",{class:!0});var o=l(v);g=c(o,"H1",{class:!0});var e=l(g);b=r(e,"SAKURA NETWORK"),e.forEach(n),w=y(o),R=c(o,"BUTTON",{class:!0});var h=l(R);P=r(h,"Install Widget"),h.forEach(n),x=y(o),D=c(o,"BUTTON",{class:!0});var i=l(D);K=r(i,"Import Product"),i.forEach(n),N=y(o),U=c(o,"DIV",{class:!0});var u=l(U);_&&_.l(u),u.forEach(n),W=y(o),j=c(o,"P",{});var p=l(j);S=r(p,"click "),V=c(p,"A",{href:!0,class:!0});var E=l(V);q=r(E,"here"),E.forEach(n),z=r(p," to go back to the shop"),p.forEach(n),o.forEach(n),this.h()},h(){document.title="Dashboard",h(g,"class","svelte-1mbsohh"),h(R,"class","svelte-1mbsohh"),h(D,"class","svelte-1mbsohh"),h(U,"class","svelte-1mbsohh"),h(V,"href",s[1]),h(V,"class","svelte-1mbsohh"),h(v,"class","svelte-1mbsohh")},m(o,e){i(o,t,e),i(o,a,e),i(o,d,e),i(o,f,e),i(o,m,e),i(o,v,e),u(v,g),u(g,b),u(v,w),u(v,R),u(R,P),u(v,x),u(v,D),u(D,K),u(v,N),u(v,U),_&&_.m(U,null),u(v,W),u(v,j),u(j,S),u(j,V),u(V,q),u(j,z),C=!0,H||(L=[$(R,"click",s[4]),$(D,"click",s[5])],H=!0)},p(s,[t]){s[0]?_?1&t&&p(_,1):(_=O(),_.c(),p(_,1),_.m(U,null)):_&&(B(),E(_,1,1,(()=>{_=null})),T())},i(s){C||(p(_),C=!0)},o(s){E(_),C=!1},d(s){s&&n(t),s&&n(a),s&&n(d),s&&n(f),s&&n(m),s&&n(v),_&&_.d(),H=!1,A(L)}}}function W(s,t,a){let o;R(s,P,(s=>a(6,o=s)));let e=!1;async function c(){console.log("import");let s=await doImportProduct(P);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}async function l(){console.log("install");let s=await async function(s){let t="https://sakura.eco/api/widget/install_widget/"+s;return await fetch(t,{mode:"cors"}).then((s=>s.json())).then((s=>s))}(P);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}return[e,"https://"+o,c,l,()=>x(l(),(s=>a(0,e=s))),()=>x(c(),(s=>a(0,e=s)))]}export default class extends s{constructor(s){super(),t(this,s,W,U,a,{})}}
