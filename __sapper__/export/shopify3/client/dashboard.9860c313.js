import{S as s,i as a,s as t,e as c,t as e,b as o,f as r,g as n,d as l,h,j as i,k as u,m as f,n as d,p as m,r as v,u as p,v as g,w as k,x as E,y as b,a as y,q as w,c as $,z as A,l as B,A as I,B as R,o as j}from"./client.41dd7dd9.js";import{e as T}from"./env.910139c1.js";var x=async(s,a)=>{a(!0);try{await s}catch(s){}a(!1)};function D(s){let a,t;return{c(){a=c("div"),t=e(s[0]),this.h()},l(c){a=o(c,"DIV",{class:!0});var e=r(a);t=n(e,s[0]),e.forEach(l),this.h()},h(){h(a,"class","LoadingIndicator svelte-hef77f")},m(s,c){i(s,a,c),u(a,t)},p(s,[a]){1&a&&f(t,s[0])},i:d,o:d,d(s){s&&l(a)}}}function K(s,a,t){let c="";async function e(){3===c.length&&t(0,c=""),t(0,c+="."),await new Promise((s=>setTimeout(s,300))),e()}return m((()=>{e()})),[c]}class P extends s{constructor(s){super(),a(this,s,K,D,t,{})}}function N(s){let a,t;return a=new P({}),{c(){v(a.$$.fragment)},l(s){p(a.$$.fragment,s)},m(s,c){g(a,s,c),t=!0},i(s){t||(k(a.$$.fragment,s),t=!0)},o(s){E(a.$$.fragment,s),t=!1},d(s){b(a,s)}}}function O(s){let a,t,f,m,v,p,g,b,B,j,x,D,K,P,O,S,U,V,W,_,q,z,H,L,C,F,G,J,M=T.flag_stats,Q=function(s){let a,t,f,m;return{c(){a=c("button"),t=e("Import Product"),this.h()},l(s){a=o(s,"BUTTON",{class:!0});var c=r(a);t=n(c,"Import Product"),c.forEach(l),this.h()},h(){h(a,"class","svelte-1593e8c")},m(c,e){i(c,a,e),u(a,t),f||(m=I(a,"click",s[5]),f=!0)},p:d,d(s){s&&l(a),f=!1,m()}}}(s),X=s[0]&&N();return{c(){a=y(),t=c("br"),f=y(),m=c("br"),v=y(),p=c("div"),g=c("h1"),b=e("SAKURA NETWORK"),B=y(),j=y(),x=y(),Q&&Q.c(),D=y(),K=c("div"),X&&X.c(),P=y(),O=c("p"),S=e("click "),U=c("a"),V=e("here"),W=e(" to go back to "),_=c("b"),q=e(s[1]),z=e("\n\n\tor click "),H=c("a"),L=e("here"),C=e(" to access "),F=c("b"),G=e("sakura.eco"),this.h()},l(c){w('[data-svelte="svelte-mc1kyo"]',document.head).forEach(l),a=$(c),t=o(c,"BR",{}),f=$(c),m=o(c,"BR",{}),v=$(c),p=o(c,"DIV",{class:!0});var e=r(p);g=o(e,"H1",{class:!0});var h=r(g);b=n(h,"SAKURA NETWORK"),h.forEach(l),B=$(e),j=$(e),x=$(e),Q&&Q.l(e),D=$(e),K=o(e,"DIV",{class:!0});var i=r(K);X&&X.l(i),i.forEach(l),P=$(e),O=o(e,"P",{});var u=r(O);S=n(u,"click "),U=o(u,"A",{href:!0,class:!0});var d=r(U);V=n(d,"here"),d.forEach(l),W=n(u," to go back to "),_=o(u,"B",{});var k=r(_);q=n(k,s[1]),k.forEach(l),z=n(u,"\n\n\tor click "),H=o(u,"A",{href:!0,class:!0});var E=r(H);L=n(E,"here"),E.forEach(l),C=n(u," to access "),F=o(u,"B",{});var y=r(F);G=n(y,"sakura.eco"),y.forEach(l),u.forEach(l),e.forEach(l),this.h()},h(){document.title="Dashboard",h(g,"class","svelte-1593e8c"),h(K,"class","svelte-1593e8c"),h(U,"href",s[1]),h(U,"class","svelte-1593e8c"),h(H,"href",T.sakura_url),h(H,"class","svelte-1593e8c"),h(p,"class","svelte-1593e8c")},m(s,c){i(s,a,c),i(s,t,c),i(s,f,c),i(s,m,c),i(s,v,c),i(s,p,c),u(p,g),u(g,b),u(p,B),u(p,j),u(p,x),Q&&Q.m(p,null),u(p,D),u(p,K),X&&X.m(K,null),u(p,P),u(p,O),u(O,S),u(O,U),u(U,V),u(O,W),u(O,_),u(_,q),u(O,z),u(O,H),u(H,L),u(O,C),u(O,F),u(F,G),J=!0},p(s,[a]){s[0]?X?1&a&&k(X,1):(X=N(),X.c(),k(X,1),X.m(K,null)):X&&(R(),E(X,1,1,(()=>{X=null})),A())},i(s){J||(k(M),k(X),J=!0)},o(s){E(M),E(X),J=!1},d(s){s&&l(a),s&&l(t),s&&l(f),s&&l(m),s&&l(v),s&&l(p),Q&&Q.d(),X&&X.d()}}}function S(s,a,t){let c;B(s,j,(s=>t(6,c=s)));let e=!1;async function o(){console.log("import");let s=await async function(s){let a="https://sakura.eco/api/shopify/import/"+s;return await fetch(a,{mode:"cors"}).then((s=>s.json())).then((s=>s))}(j);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}async function r(){console.log("install");let s=await async function(s){let a="https://sakura.eco/api/shopify/widget/"+s;return await fetch(a,{mode:"cors"}).then((s=>s.json())).then((s=>s))}(j);console.log(s),"success"==s.status?goto("./dashboard"):goto("./")}return[e,"https://"+c,o,r,()=>x(r(),(s=>t(0,e=s))),()=>x(o(),(s=>t(0,e=s)))]}export default class extends s{constructor(s){super(),a(this,s,S,O,t,{})}}
